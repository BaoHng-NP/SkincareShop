@page
@model SkincareProductSalesSystem.Pages.Customer.SkinTestModel

<style>
    /* Ảnh nền toàn màn hình */
    /* Ảnh nền */
    .background-container {
        position: absolute; /* Thay vì fixed */
        width: 100%;
        min-height: 100vh; /* Đảm bảo ảnh nền mở rộng theo nội dung */
        background: url('https://png.pngtree.com/background/20210710/original/pngtree-summer-beauty-skin-care-club-mobile-phone-poster-picture-image_1019876.jpg') center/cover no-repeat;
    }

    /* Lớp phủ đen */
    .background-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        min-height: 100vh; /* Phủ lên toàn bộ nội dung */
        background: rgba(0, 0, 0, 0.6);
    }

    /* Nội dung chính */
    .content-container {
        position: relative;
        z-index: 2;
        padding-bottom: 50px; /* Để tránh nội dung bị che mất khi cuộn */
    }

</style>

<div class="background-container">
    <div class="background-overlay"></div>

    <div class="container mt-5 content-container">
        <div class="text-center text-light">
            <h2 class="fw-bold animate__animated animate__fadeInDown"> Discover Your Skin Type </h2>
            <p class="lead">Answer the questions below to find the perfect skincare routine for you!</p>
        </div>

        @if (Model.ResultSkinType == null)
        {
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <form method="post" class="p-4 bg-white shadow-lg rounded-4 border border-light-subtle">
                        @foreach (var question in Model.Questions)
                        {
                            <div class="mb-4">
                                <h5 class="fw-bold text-secondary">@question.Question</h5>
                                @foreach (var answer in question.SkinQuizAnswers)
                                {
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="SelectedAnswers[@question.Id]" value="@answer.SkinTypeId" required>
                                        <label class="form-check-label">@answer.Answer</label>
                                    </div>
                                }
                            </div>
                        }
                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-lg btn-primary shadow-sm px-5 py-3 fw-bold">
                                🔍 Determine My Skin Type
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        }
        else
        {
            <div class="alert alert-success text-center shadow-lg p-5 rounded-4">
                <h2 class="fw-bold text-success animate__animated animate__zoomIn">🎉 Your Skin Type: @Model.ResultSkinType.Name 🎉</h2>
                <p class="text-muted">@Model.ResultSkinType.Description</p>

             

                <div class="mt-4">
                    <a asp-page="/Customer/Recommended" asp-route-skinTypeId="@Model.ResultSkinType.Id"
                       class="btn btn-success btn-lg shadow-sm px-5 py-3 fw-bold">
                        🌿 View Recommended Routine
                    </a>
                </div>

                <div class="mt-3">
                    <a asp-page="/Customer/SkinTest" class="btn btn-outline-light mt-3 px-4 py-2">
                        🔄 Retake the Quiz
                    </a>
                </div>
            </div>
        }
    </div>
</div>
